% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/data_generating_process_simulation.R,
%   R/permoob_classification.R
\name{.oob_brier_errors}
\alias{.oob_brier_errors}
\title{Compute per-observation Brier errors for OOB (train) and test (new) (internal)}
\usage{
.oob_brier_errors(model, data, response, data_new, response_new)

.oob_brier_errors(model, data, response, data_new, response_new)
}
\arguments{
\item{model}{A ranger probability forest (classification) with inbag counts.}

\item{data}{Predictor data.frame/matrix for the training sample.}

\item{response}{Vector length n, values 0/1.}

\item{data_new}{Predictor data.frame/matrix for the test sample.}

\item{response_new}{Vector length m, values 0/1.}
}
\value{
list(oob_error = numeric(n), pred_error = numeric(m))

list(oob_error = numeric(n), pred_error = numeric(m))
}
\description{
Compute per-observation Brier errors for OOB (train) and test (new) (internal)

Compute per-observation Brier errors for OOB (train) and test (new) (internal)
}
\details{
Input form (contract):
\itemize{
  \item \code{model} is a \code{ranger::ranger} classification model fit with:
    \code{probability = TRUE} and \code{keep.inbag = TRUE}.
  \item \code{data} is the predictor data used for training (n rows).
  \item \code{response} is integer 0/1 or logical; length n.
  \item \code{data_new} is predictor data for the new/test sample (m rows).
  \item \code{response_new} is integer 0/1 or logical; length m.
}

This function extracts per-tree predicted probability for class "1" and computes
the Brier score \eqn{(p - y)^2}:
- OOB: average Brier score across trees where observation is OOB
- Test: average Brier score across all trees

Input form (contract):
\itemize{
  \item \code{model} is a \code{ranger::ranger} classification model fit with:
    \code{probability = TRUE} and \code{keep.inbag = TRUE}.
  \item \code{data} is the predictor data used for training (n rows).
  \item \code{response} is integer 0/1 or logical; length n.
  \item \code{data_new} is predictor data for the new/test sample (m rows).
  \item \code{response_new} is integer 0/1 or logical; length m.
}

This function extracts per-tree predicted probability for class "1" and computes
the Brier score \eqn{(p - y)^2}:
- OOB: average Brier score across trees where observation is OOB
- Test: average Brier score across all trees
}
\keyword{internal}
